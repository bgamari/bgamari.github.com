<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>bgamari.github.com - Building Scipy on the ROCKS</title>
    <link rel="stylesheet" type="text/css" href="../css/default.css" />
    <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </head>
  <body>
    <div id="container">
      <div id="content">
        <div id="sidebar">
          <nav>
            <h1>Navigation</h1>
            <ul>
              <li><a href="../index.html">Home</a></li>
              <li><a href="../posts.html">Blog-like thing</a></li>
              <li><a href="../research-agenda.html">Research agenda</a></li>
              <li><a href="../publications.html">Publications</a></li>
              <li><a href="../past-research.html">Past research</a></li>
              <li><a href="../media/cv.pdf">Curriculum Vitæ</a></li>
            </ul>
            <h1>Related Links</h1>
            <ul>
              <li><a href="http://goldnerlab.physics.umass.edu/wiki/">Research group</a></li>
              <li><a href="http://www.github.com/bgamari">Github</a></li>
            </ul>
          </nav>
        </div>

        <section id="main">
        <p>ROCKS is one of many Redhat-based distributions often found on large-ish compute clusters. Unfortunately, ROCKS and its breatheren all share a distinctive flavor of brokenness and apparent contempt of the user that is truly remarkable, even among operating systems. This is most often encountered on the evening of a large deadline. In this scenario, you copy your compute task to the cluster, eager to see the machine churn away at your handiwork. Your enthusiasm is quickly quenched, however, when you realize that <code>scipy</code> is not available (or more likely, from a package build at some point during middle of the Carter administration).</p>
<p>In this case, it’s typically easiest to just build your own environment. When it comes to Python applications, it’s best to do this within <code>virtualenv</code>,</p>
<pre><code>$ curl -O https://pypi.python.org/packages/source/v/virtualenv/virtualenv-X.X.tar.gz
$ tar -xfz virtualenv-X.X.tar.gz
$ cd virtualenv-X.X
$ python virtualenv.py pyenv
$ source pyenv/bin/activate</code></pre>
<p>Now we need to resolve the impedance mismatch between Atlas’s library paths and what scipy expects,</p>
<pre><code>$ mkdir atlas-lib
$ for f in libatlas libcblas libclapack libf77blas liblapack libptcblas libptf77blas; do
    ln -s /usr/lib64/atlas/$f.so atlas-lib/$f.so
  done</code></pre>
<p>Now we can install numpy and scipy as usual, taking care to tell <code>numpy</code> and <code>scipy</code> about our Atlas libraries,</p>
<pre><code>$ ATLAS=atlas-lib pip install numpy
$ git clone git://github.com/scipy/scipy
$ cd scipy
$ ATLAS=atlas-lib ./setup.py install</code></pre>
<p>That’s all!</p>
<p>Now for some sleep.</p>
        </section>
      </div>

      <footer id="footer">
        <span>Generated by <a href="http://jaspervdj.be/hakyll/index.html">Hakyll</a>.</span>
      </footer>
    </div>
  </body>
</html>

