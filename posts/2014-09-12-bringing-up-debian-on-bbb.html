<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>bgamari.github.com - Bringing up Debian on BeagleBone Black</title>
    <link rel="stylesheet" type="text/css" href="../css/default.css" />
  </head>
  <body>
    <div id="content">
      <div id="sidebar">
        <nav>
          <h1>Navigation</h1>
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../posts.html">Blog-like thing</a></li>
            <li><a href="../research-agenda.html">Research agenda</a></li>
            <li><a href="../publications.html">Publications</a></li>
            <li><a href="../past-research.html">Past research</a></li>
            <li><a href="../media/cv.pdf">Curriculum Vitæ</a></li>
          </ul>
          <h1>Related Links</h1>
          <ul>
            <li><a href="http://goldnerlab.physics.umass.edu/wiki/">Research group</a></li>
            <li><a href="http://www.github.com/bgamari">Github</a></li>
          </ul>
        </nav>
      </div>

      <section id="main">
      <h1 id="bringing-up-debian-on-a-beaglebone-black">Bringing up Debian on a BeagleBone Black</h1>
<p>BeagleBoard.org has recently been gradually playing with the idea of replacing the long-used <a href="http://www.angstrom-distribution.org/">Angstrom</a> distribution to <a href="http://www.debian.org/">Debian</a>. Thanks in large part to the incredibly productive <a href="https://rcn-ee.net/">Robert C. Nelson</a> the transitions seem to be quite smooth. Below I document my attempt at bringing up a BeagleBone Black with one of Robert’s Debian images.</p>
<h2 id="initial-setup">Initial setup</h2>
<ol style="list-style-type: decimal">
<li>Download image. I used a <a href="https://rcn-ee.net/deb/testing/2014-09-04/console/BBB-eMMC-flasher-debian-7.6-console-armhf-2014-09-04-2gb.img.xz">testing image</a> from the <a href="http://elinux.org/Beagleboard:BeagleBoneBlack_Debian">elinux wiki</a>.</li>
<li><p>Write to SD card,</p>
<pre><code>$ dd if=BBB-eMMC-flasher-debian-7.6-console-armhf-2014-09-04-2gb.img.xz of=/dev/mmcblk0</code></pre></li>
<li><p>Boot BeagleBone from SD card; a great deal of flashing commences. When flashing stops unplug BBB, remove SD card.</p></li>
</ol>
<h2 id="making-things-hospitable">Making things hospitable</h2>
<p>The default Debian image is quite spartan. In fact, it doesn’t even include <code>wpa_supplicant</code> or the firmware for my Ralink RT5370 wifi adapter. To download these I used wired ethernet,</p>
<ol style="list-style-type: decimal">
<li>Plug in Ethernet cable</li>
<li>Apply power to BBB</li>
<li>Monitor DHCP logs for BBB’s request</li>
<li><p>SSH to BBB. Then,</p>
<pre><code>$ sudo apt-get install wpasupplicant firmware-ralink vim iw tmux usb-tools</code></pre></li>
<li><p>Unfortunately the <code>rt2800usb</code> drivers perform very poorly with power-saving enabled (the default). Thankfully Stack Overflow has the <a href="http://superuser.com/questions/629039/disabling-power-save-option-on-wifi-device">answer</a> to this,</p>
<pre><code>$ echo 'ACTION==&quot;add&quot;, SUBSYSTEM==&quot;net&quot;, KERNEL==&quot;wlan*&quot; RUN+=&quot;/usr/bin/iw dev %k set power_save off&quot;' | sudo tee /etc/udev/rules.d/70-wifi-disable-powersave.rules</code></pre></li>
<li>Configure <code>wlan0</code> in <code>/etc/network/interfaces</code>.</li>
<li><p>Reboot and ensure that <code>wlan0</code> comes up.</p></li>
</ol>
      </section>
    </div>

    <footer id="footer">
      <span>Generated by <a href="http://jaspervdj.be/hakyll/index.html">Hakyll</a>.</span>
    </footer>
  </body>
</html>

